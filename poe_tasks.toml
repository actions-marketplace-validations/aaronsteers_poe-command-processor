[tasks]
test-success = "echo 'Dummy tests...'"
test-fail = "exit 1"

[tasks.test-success-with-summary]
shell = """
if [ -n "$GITHUB_STEP_SUMMARY" ]; then
  echo '## Test Results' >> "$GITHUB_STEP_SUMMARY"
  echo '' >> "$GITHUB_STEP_SUMMARY"
  echo 'This is a test of the GITHUB_STEP_SUMMARY feature.' >> "$GITHUB_STEP_SUMMARY"
  echo '' >> "$GITHUB_STEP_SUMMARY"
  echo '- âœ… Item 1: Success' >> "$GITHUB_STEP_SUMMARY"
  echo '- âœ… Item 2: Success' >> "$GITHUB_STEP_SUMMARY"
  echo '- âœ… Item 3: Success' >> "$GITHUB_STEP_SUMMARY"
  echo '' >> "$GITHUB_STEP_SUMMARY"
  echo '**Status**: All tests passed! ðŸŽ‰' >> "$GITHUB_STEP_SUMMARY"
fi
echo 'Test with summary completed'
"""

[tasks.test-fail-with-summary]
shell = """
if [ -n "$GITHUB_STEP_SUMMARY" ]; then
  echo '## Test Results' >> "$GITHUB_STEP_SUMMARY"
  echo '' >> "$GITHUB_STEP_SUMMARY"
  echo 'This is a test of the GITHUB_STEP_SUMMARY feature.' >> "$GITHUB_STEP_SUMMARY"
  echo '' >> "$GITHUB_STEP_SUMMARY"
  echo '- âœ… Item 1: Success' >> "$GITHUB_STEP_SUMMARY"
  echo '- âœ… Item 2: Success' >> "$GITHUB_STEP_SUMMARY"
  echo '- ðŸ˜µ Item 3: Failure!!' >> "$GITHUB_STEP_SUMMARY"
  echo '' >> "$GITHUB_STEP_SUMMARY"
  echo '**ERROR**: Something bad happened â˜ ï¸' >> "$GITHUB_STEP_SUMMARY"
fi
echo 'Test fail with summary completed'
exit 1
"""
